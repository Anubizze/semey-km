<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–∞–Ω–µ–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ‚Äî –ó–∞–ª–∏–≤—â–∏–∫</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            margin-top: 40px;
            max-width: 900px;
        }
        .card {
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .card-header {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            border-radius: 15px 15px 0 0;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .btn-custom {
            background: #4facfe;
            border: none;
            color: white;
            font-weight: bold;
        }
        .btn-custom:hover {
            background: #00c6ff;
        }
        .logo {
            display: block;
            margin: 0 auto 20px auto;
            max-width: 150px;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                margin-top: 20px;
                padding: 0 15px;
            }
            .card {
                border-radius: 10px;
            }
            .card-header {
                font-size: 1.25rem;
                padding: 1rem;
            }
            .logo {
                max-width: 120px;
                margin-bottom: 15px;
            }
            .btn-custom {
                width: 100%;
                margin-bottom: 10px;
                padding: 12px;
                font-size: 16px;
            }
            .form-control {
                font-size: 16px;
                padding: 12px;
            }
            .form-label {
                font-size: 14px;
                font-weight: 600;
            }
            .row {
                margin: 0;
            }
            .col-md-6 {
                padding: 0 5px;
                margin-bottom: 15px;
            }
            .col-md-4 {
                padding: 0 5px;
                margin-bottom: 15px;
            }
            .col-md-3 {
                padding: 0 5px;
                margin-bottom: 15px;
            }
            .table {
                font-size: 12px;
            }
            .table th, .table td {
                padding: 8px 4px;
            }
            .btn-sm {
                padding: 6px 12px;
                font-size: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                margin-top: 10px;
                padding: 0 10px;
            }
            .card-header {
                font-size: 1.1rem;
                padding: 0.75rem;
            }
            .logo {
                max-width: 100px;
                margin-bottom: 10px;
            }
            .btn-custom {
                padding: 10px;
                font-size: 14px;
            }
            .form-control {
                font-size: 14px;
                padding: 10px;
            }
            .form-label {
                font-size: 13px;
            }
            .table {
                font-size: 10px;
            }
            .table th, .table td {
                padding: 6px 2px;
            }
            .btn-sm {
                padding: 4px 8px;
                font-size: 10px;
            }
            .col-md-6, .col-md-4, .col-md-3 {
                padding: 0 2px;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –õ–æ–≥–æ—Ç–∏–ø -->
        <img src="{{ url_for('static', filename='images/logo_0.png') }}" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo">

        <div class="card">
            <div class="card-header">
                –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–ª–∏–≤–∫–µ
            </div>
            <div class="card-body">
                <form method="POST" action="/employee_dashboard">
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label class="form-label">–¶–µ–º–µ–Ω—Ç (–∫–≥)</label>
                            <input type="number" step="0.01" class="form-control" name="cement" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">–ò–∑–≤–µ—Å—Ç—å (–∫–≥)</label>
                            <input type="number" step="0.01" class="form-control" name="lime" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">–ê–ª—é–º–∏–Ω–∏–µ–≤–∞—è –ø—É–¥—Ä–∞ (–∫–≥)</label>
                            <input type="number" step="0.01" class="form-control" name="alumina_powder" required>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label class="form-label">–®–ª–∞–º (–ª)</label>
                            <input type="number" step="0.01" class="form-control" name="sludge" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">–ì–∏–ø—Å (–∫–≥)</label>
                            <input type="number" step="0.01" class="form-control" name="gypsum" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">–í–æ–¥–∞ (–ª)</label>
                            <input type="number" step="0.01" class="form-control" name="water" required>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">–°—É–ª—å—Ñ–∞–Ω–æ–ª (–ª)</label>
                            <input type="number" step="0.01" class="form-control" name="sulfanol" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">–°–º–µ–Ω–∞</label>
                            <select class="form-control" name="shift" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–º–µ–Ω—É</option>
                                <option value="day">–î–Ω–µ–≤–Ω–∞—è</option>
                                <option value="night">–ù–æ—á–Ω–∞—è</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-custom btn-lg">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è -->
        {% if today_entries %}
        <div class="card mt-4">
            <div class="card-header">
                üìã –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>–í—Ä–µ–º—è</th>
                                <th>–°–º–µ–Ω–∞</th>
                                <th>–¶–µ–º–µ–Ω—Ç</th>
                                <th>–ò–∑–≤–µ—Å—Ç—å</th>
                                <th>–ê–ª. –ø—É–¥—Ä–∞</th>
                                <th>–®–ª–∞–º</th>
                                <th>–ì–∏–ø—Å</th>
                                <th>–í–æ–¥–∞</th>
                                <th>–°—É–ª—å—Ñ–∞–Ω–æ–ª</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for entry in today_entries %}
                            <tr>
                                <td><strong>{{ entry.time }}</strong></td>
                                <td>
                                    <span class="badge {% if entry.shift == 'day' %}bg-primary{% else %}bg-dark{% endif %}">
                                        {{ entry.shift|title }}
                                    </span>
                                </td>
                                <td>{{ entry.cement }}–∫–≥</td>
                                <td>{{ entry.lime }}–∫–≥</td>
                                <td>{{ entry.alum_powder }}–∫–≥</td>
                                <td>{{ entry.sludge }}–ª</td>
                                <td>{{ entry.gypsum }}–∫–≥</td>
                                <td>{{ entry.water }}–ª</td>
                                <td>{{ entry.sulfanol }}–ª</td>
                                <td>
                                    <a href="{{ url_for('edit_entry', entry_id=entry.id) }}" 
                                       class="btn btn-sm btn-outline-primary">
                                        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        {% else %}
        <div class="card mt-4">
            <div class="card-header">
                üìã –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è
            </div>
            <div class="card-body text-center text-muted">
                <p>üìù –û–ø–µ—Ä–∞—Ü–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è –ø–æ–∫–∞ –Ω–µ—Ç</p>
                <p class="small">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –≤—ã—à–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É</p>
            </div>
        </div>
        {% endif %}
    </div>
</body>
</html>
